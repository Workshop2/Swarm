<html>
<head>
	<script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
	<script type="text/javascript" src="js/two.js"></script>
	<script type="text/javascript" src="js/fps.js"></script>
	<script type="text/javascript" src="js/utils.js"></script>
	<script type="text/javascript" src="js/bee.js"></script>
	<script type="text/javascript" src="js/systemParameters.js"></script>
	<script type="text/javascript" src="js/target.js"></script>
    <script type="text/javascript" src="js/beeCollection.js"></script>
    <script type="text/javascript" src="js/targetCollection.js"></script>
</head> 
<body>
	<div id="canvas" style="background: black"></div>
	<script type="text/javascript">
		var utils = new Utils(),
			systemParameters = new SystemParameters(utils);

        var elem = document.getElementById('canvas');
        var playArea = {
            width: $(window).width() - 30,
            height: $(window).height() - 50
        };

        var two = new Two(playArea).appendTo(elem);
    	two.play();

    	var beeCollection = new BeeCollection(two, playArea, utils, systemParameters),
		 	targeDot = utils.createDot(two, 'red'),
		 	target = new Target(targeDot, playArea, utils, systemParameters),
            targetCollection = new TargetCollection(two, playArea, utils, systemParameters);

        targetCollection.spawnTarget();

    	for(var i = 0; i < systemParameters.bees; i ++) {
    		beeCollection.spawnBee();
    	}

    	two.bind('update', function () {
    		target.update();
            targetCollection.update();
    		beeCollection.update(target);

			fps.Count();
    	});
    </script>
</body>
</html>